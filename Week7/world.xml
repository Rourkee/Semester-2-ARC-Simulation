<mujoco>
  <compiler angle="radian" meshdir="./mesh" texturedir="./texture"/>
  <visual>
    <quality shadowsize="4096" offsamples="4" numslices="32" numstacks="32"/>
    <headlight active="1"/>
    <rgba haze="0.15 0.25 0.35 1"/>
  </visual>

  <option timestep="0.002" integrator="Euler" iterations="60" solver="Newton"
          impratio="5" noslip_iterations="6" tolerance="1e-8" cone="elliptic">
    <flag actuation="enable" gravity="enable" warmstart="enable"/>
  </option>

  <size nstack="22000" njmax="40" nconmax="512"/>

  <asset>
    <texture type="skybox" builtin="gradient" rgb1="0.3 0.5 0.7" rgb2="0 0 0" width="512" height="512"/>
    <texture name="plane" type="2d" builtin="checker" rgb1=".2 .3 .4" rgb2=".1 .15 .2"
             width="512" height="512" mark="cross" markrgb=".8 .8 .8"/>
    <material name="plane" reflectance="0.3" texture="plane" texrepeat="1 1" texuniform="true"/>

    <material name="knob_metal" rgba="0.35 0.35 0.38 1" specular="0.4" shininess="0.6"/>
    <material name="grid_line" rgba="1.0 1.0 1.0 1.0"/>
    <material name="block_mat" rgba="0.9 0.4 0.2 1"/>
    <material name="plate_mat" rgba="0.12 0.12 0.12 1"/>
  </asset>

  <include file="panda.xml"/>

  <worldbody>
    <camera name="cam" mode="targetbody" pos="1.100 1.000 1.000" target="panda_hand"/>
    <light directional="true" diffuse=".2 .2 .2" specular="0 0 0" pos="0.100 1.000 5.000" dir="0 -1 -1" castshadow="false"/>
    <light directional="false" diffuse=".8 .8 .8" specular="0.3 0.3 0.3" pos="0.100 -1.000 4.000" dir="0 0 -1"/>
    <light directional="true" diffuse="0 0 0" specular=".7 .7 .7" pos="0.100 3.000 3.000" dir="0 -3 -3"/>

    <geom name="floor" type="plane" pos="0 0 0" group="1" size="0 0 .1" material="plane" condim="6"
          friction="1.0 0.1 0.01"/>

    <body name="spinning_plate" pos="0.500 0.000 0.005">
      <inertial pos="0 0 0" mass="1.0" diaginertia="0.0012 0.0012 0.0012"/>
      <joint name="plate_rotation" type="hinge" axis="0 0 1" limited="false" damping="2.0" armature="0.03"/>

      <geom name="plate_geom" type="cylinder" size="0.173 0.005" material="plate_mat"
            condim="6" friction="1.6 0.5 0.05" solref="0.0025 1" solimp="0.95 0.99 0.001"/>

      <geom name="plate_hub" type="cylinder" size="0.030 0.002" pos="0 0 0.0065"
            material="knob_metal" condim="6" friction="1.6 0.5 0.05"/>

      <geom name="knob_stem" type="cylinder"
            size="0.012 0.025"
            pos="0.130 0 0.0300"
            material="knob_metal" contype="1" conaffinity="1"
            condim="6" friction="2.0 0.8 0.08"/>

      <!-- Table grid lines -->
      <geom name="grid_h_0" type="box"
            size="0.1050 0.0020 0.0020"
            pos="0 -0.1050 0.0080"
            material="grid_line" contype="0" conaffinity="0"/>
      <geom name="grid_h_1" type="box"
            size="0.1050 0.0020 0.0020"
            pos="0 -0.0350 0.0080"
            material="grid_line" contype="0" conaffinity="0"/>
      <geom name="grid_h_2" type="box"
            size="0.1050 0.0020 0.0020"
            pos="0 0.0350 0.0080"
            material="grid_line" contype="0" conaffinity="0"/>
      <geom name="grid_h_3" type="box"
            size="0.1050 0.0020 0.0020"
            pos="0 0.1050 0.0080"
            material="grid_line" contype="0" conaffinity="0"/>
      <geom name="grid_v_0" type="box"
            size="0.0020 0.1050 0.0020"
            pos="-0.1050 0 0.0080"
            material="grid_line" contype="0" conaffinity="0"/>
      <geom name="grid_v_1" type="box"
            size="0.0020 0.1050 0.0020"
            pos="-0.0350 0 0.0080"
            material="grid_line" contype="0" conaffinity="0"/>
      <geom name="grid_v_2" type="box"
            size="0.0020 0.1050 0.0020"
            pos="0.0350 0 0.0080"
            material="grid_line" contype="0" conaffinity="0"/>
      <geom name="grid_v_3" type="box"
            size="0.0020 0.1050 0.0020"
            pos="0.1050 0 0.0080"
            material="grid_line" contype="0" conaffinity="0"/>
    </body>
    <body name="G11_b" pos="0.430 -0.070 0.025">
      <joint type="free" damping="0.15"/>
      <geom name="G11" type="box" size="0.015 0.015 0.015"
            rgba="1.000 0.000 0.000 1.000" density="2000"
            condim="6" friction="1.6 0.6 0.06" solref="0.0025 1" solimp="0.95 0.99 0.001"/>
    </body>
    <body name="G12_b" pos="0.500 -0.070 0.025">
      <joint type="free" damping="0.15"/>
      <geom name="G12" type="box" size="0.015 0.015 0.015"
            rgba="0.000 1.000 0.000 1.000" density="2000"
            condim="6" friction="1.6 0.6 0.06" solref="0.0025 1" solimp="0.95 0.99 0.001"/>
    </body>
    <body name="G13_b" pos="0.570 -0.070 0.025">
      <joint type="free" damping="0.15"/>
      <geom name="G13" type="box" size="0.015 0.015 0.015"
            rgba="0.000 0.000 1.000 1.000" density="2000"
            condim="6" friction="1.6 0.6 0.06" solref="0.0025 1" solimp="0.95 0.99 0.001"/>
    </body>
    <body name="G22_b" pos="0.500 0.000 0.025">
      <joint type="free" damping="0.15"/>
      <geom name="G22" type="box" size="0.015 0.015 0.015"
            rgba="1.000 1.000 0.000 1.000" density="2000"
            condim="6" friction="1.6 0.6 0.06" solref="0.0025 1" solimp="0.95 0.99 0.001"/>
    </body>
    <body name="G31_b" pos="0.430 0.070 0.025">
      <joint type="free" damping="0.15"/>
      <geom name="G31" type="box" size="0.015 0.015 0.015"
            rgba="1.000 0.000 1.000 1.000" density="2000"
            condim="6" friction="1.6 0.6 0.06" solref="0.0025 1" solimp="0.95 0.99 0.001"/>
    </body>
    <body name="G32_b" pos="0.500 0.070 0.025">
      <joint type="free" damping="0.15"/>
      <geom name="G32" type="box" size="0.015 0.015 0.015"
            rgba="0.000 1.000 1.000 1.000" density="2000"
            condim="6" friction="1.6 0.6 0.06" solref="0.0025 1" solimp="0.95 0.99 0.001"/>
    </body>
    <body name="G33_b" pos="0.570 0.070 0.025">
      <joint type="free" damping="0.15"/>
      <geom name="G33" type="box" size="0.015 0.015 0.015"
            rgba="1.000 0.500 0.000 1.000" density="2000"
            condim="6" friction="1.6 0.6 0.06" solref="0.0025 1" solimp="0.95 0.99 0.001"/>
    </body>
  </worldbody>
  <equality/>
</mujoco>
